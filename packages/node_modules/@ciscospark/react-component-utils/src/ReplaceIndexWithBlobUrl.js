/* eslint-disable radix */
/* eslint-disable import/prefer-default-export */
/**
 * replaces the index with the uri in cards
 * @param {Array} urlTypes
 * @param {Object} obj
 * @param {Array} items
 * @returns {Object}
 */
export function replaceIndexWithBlobURL(urlTypes, obj, items) {
  const activityObject = obj;

  if (activityObject !== null && activityObject !== undefined) {
    Object.keys(activityObject).forEach((property) => {
      if (Object.prototype.hasOwnProperty.call(activityObject, property)) {
        const index = urlTypes.indexOf(property);
        const key = urlTypes[index];

        if (property === key && !Number.isNaN(parseInt(activityObject[key]))) {
          activityObject[key] = items[parseInt(activityObject[key])];
        }
        else if (typeof activityObject[property] === 'object') {
          replaceIndexWithBlobURL(urlTypes, activityObject[property], items);
        }
      }
    });
  }

  return activityObject;
}
