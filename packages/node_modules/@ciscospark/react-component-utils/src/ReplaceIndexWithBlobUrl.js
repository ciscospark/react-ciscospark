/* eslint-disable import/prefer-default-export */
/**
 * replaces the index with the uri in cards
 * @param {String} key
 * @param {Object} obj
 * @param {Array} items
 * @returns {Object}
 */
export function replaceIndexWithBlobURL(key, obj, items) {
  const activityObject = obj;

  if (activityObject !== null && activityObject !== undefined) {
    Object.keys(activityObject).forEach((property) => {
      if (Object.prototype.hasOwnProperty.call(activityObject, property)) {
        if (property === key && !Number.isNaN(activityObject[key])) {
          activityObject.url = items[activityObject[key]];
        }
        else if (typeof activityObject[property] === 'object') {
          replaceIndexWithBlobURL(key, activityObject[property], items);
        }
      }
    });
  }

  return activityObject;
}
