import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';

import styles from './styles.css';

export default function Video({srcObject, audioMuted, videoMuted}) {
  // Need autoPlay to start the video automagically

  function getEl(el) {
    if (el && srcObject) {
      el.srcObject = srcObject;
    }
  }

  if (videoMuted) {
    return (
      <audio
        autoPlay
        className={classNames(styles.video)}
        muted={audioMuted}
        ref={getEl}
      />
    );
  }

  return (
    <video
      autoPlay
      className={classNames(styles.video)}
      muted={audioMuted}
      ref={getEl}
    />
  );
}

Video.propTypes = {
  audioMuted: PropTypes.bool,
  srcObject: PropTypes.object,
  videoMuted: PropTypes.bool
};
